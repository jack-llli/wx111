<!--pages/order/order.wxml-->
<view class="page">
  <!-- 课程清单 -->
  <view class="section card">
    <view class="section-title">课程清单</view>
    <view class="course-list">
      <view class="course-item" wx:for="{{items}}" wx:key="id">
        <image class="course-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="course-info">
          <view class="course-name">{{item.name}}</view>
          <view class="course-price-count">
            <text class="price">¥{{item.price}}</text>
            <text class="count">×{{item.count}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 价格明细 -->
  <view class="section card">
    <view class="section-title">价格明细</view>
    <view class="price-detail">
      <view class="detail-item">
        <text class="detail-label">课程总价</text>
        <text class="detail-value price">¥{{totalPrice}}</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">优惠减免</text>
        <text class="detail-value" style="color: #07c160;">-¥{{discount}}</text>
      </view>
      <view class="detail-divider"></view>
      <view class="detail-item">
        <text class="detail-label" style="font-weight: bold;">应付金额</text>
        <text class="detail-value price" style="font-size: 40rpx;">¥{{finalPrice}}</text>
      </view>
    </view>
  </view>

  <!-- 支付方式 -->
  <view class="section card">
    <view class="section-title">支付方式</view>
    <view class="payment-list">
      <view class="payment-item {{selectedPayment === 'wechat' ? 'selected' : ''}}" 
            bindtap="selectPayment" 
            data-method="wechat">
        <view class="payment-info">
          <image class="payment-icon" src="/images/wechat-pay.png" mode="aspectFit"></image>
          <text class="payment-name">微信支付</text>
        </view>
        <view class="payment-radio">
          <view class="radio {{selectedPayment === 'wechat' ? 'checked' : ''}}">
            <view class="radio-dot" wx:if="{{selectedPayment === 'wechat'}}"></view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部提交按钮 -->
  <view class="submit-footer">
    <view class="footer-price">
      <text class="footer-label">合计：</text>
      <text class="price">
        <text class="price-symbol">¥</text>
        <text class="price-int">{{finalPrice}}</text>
      </text>
    </view>
    <button class="submit-btn" bindtap="submitOrder">提交订单</button>
  </view>
</view>
